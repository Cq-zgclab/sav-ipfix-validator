<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAV IPFIX - ç»ˆææµ‹è¯•</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: #0f0;
            padding: 20px;
            font-size: 16px;
            line-height: 1.6;
        }
        .box {
            background: #111;
            border: 2px solid #0f0;
            padding: 20px;
            margin: 20px 0;
        }
        h1, h2 { color: #0f0; margin: 10px 0; }
        .ok { color: #0f0; }
        .error { color: #f00; }
        .warn { color: #ff0; }
        button {
            background: #0f0;
            color: #000;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover { background: #0a0; }
        pre {
            background: #000;
            border: 1px solid #0f0;
            padding: 10px;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        th, td {
            border: 1px solid #0f0;
            padding: 8px;
            text-align: left;
        }
        th { background: #0a0; color: #000; }
    </style>
</head>
<body>
    <div class="box">
        <h1>ğŸŸ¢ SAV IPFIX ç»ˆææµ‹è¯•é¡µé¢</h1>
        <p><strong>å¦‚æœä½ èƒ½çœ‹åˆ°è¿™æ®µæ–‡å­—ï¼Œè¯´æ˜HTMLåŠ è½½æˆåŠŸï¼</strong></p>
    </div>

    <div class="box">
        <h2>ç³»ç»ŸçŠ¶æ€</h2>
        <div id="status">
            <p class="ok">âœ“ HTML å·²åŠ è½½</p>
            <p class="ok">âœ“ CSS å·²åº”ç”¨</p>
            <p id="js-status" class="warn">â§— JavaScript æ£€æŸ¥ä¸­...</p>
        </div>
    </div>

    <div class="box">
        <h2>æ“ä½œæŒ‰é’®</h2>
        <button onclick="testFetch()">æµ‹è¯•æ•°æ®åŠ è½½</button>
        <button onclick="location.reload()">åˆ·æ–°é¡µé¢</button>
        <button onclick="showRawHTML()">æ˜¾ç¤ºåŸå§‹HTML</button>
    </div>

    <div class="box">
        <h2>æµ‹è¯•ç»“æœ</h2>
        <div id="result">ç­‰å¾…æµ‹è¯•...</div>
    </div>

    <div class="box">
        <h2>SAVæ•°æ®é¢„è§ˆï¼ˆç¡¬ç¼–ç ï¼‰</h2>
        <table>
            <thead>
                <tr>
                    <th>è®°å½•ID</th>
                    <th>æ¥å£ID</th>
                    <th>æºå‰ç¼€</th>
                    <th>å‰ç¼€é•¿åº¦</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>10</td>
                    <td>192.0.2.0</td>
                    <td>24</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>11</td>
                    <td>192.0.3.0</td>
                    <td>24</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>12</td>
                    <td>192.0.4.0</td>
                    <td>24</td>
                </tr>
            </tbody>
        </table>
        <p><strong>è¿™æ˜¯ç¡¬ç¼–ç çš„æ•°æ®ï¼Œå¦‚æœä½ èƒ½çœ‹åˆ°è¿™ä¸ªè¡¨æ ¼ï¼Œè¯´æ˜é¡µé¢æ¸²æŸ“å®Œå…¨æ­£å¸¸ï¼</strong></p>
    </div>

    <script>
        // ç«‹å³æ‰§è¡Œ
        (function() {
            console.log('JavaScriptå·²æ‰§è¡Œ');
            document.getElementById('js-status').className = 'ok';
            document.getElementById('js-status').textContent = 'âœ“ JavaScript æ­£å¸¸è¿è¡Œ';
        })();

        function testFetch() {
            const result = document.getElementById('result');
            result.innerHTML = '<p class="warn">æ­£åœ¨åŠ è½½ data.json...</p>';
            
            fetch('data.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    result.innerHTML = '<p class="ok">âœ“ HTTP å“åº”æˆåŠŸ</p>';
                    return response.json();
                })
                .then(data => {
                    result.innerHTML = `
                        <p class="ok">âœ“ æ•°æ®åŠ è½½æˆåŠŸï¼</p>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                })
                .catch(error => {
                    result.innerHTML = `
                        <p class="error">âœ— åŠ è½½å¤±è´¥</p>
                        <pre>${error.message}\n${error.stack}</pre>
                    `;
                });
        }

        function showRawHTML() {
            const html = document.documentElement.outerHTML;
            document.getElementById('result').innerHTML = `
                <p class="ok">å½“å‰HTMLæºç ï¼ˆå‰1000å­—ç¬¦ï¼‰ï¼š</p>
                <pre>${html.substring(0, 1000)}...</pre>
            `;
        }

        // é¡µé¢åŠ è½½å®Œæˆè‡ªåŠ¨æµ‹è¯•
        window.addEventListener('load', function() {
            console.log('é¡µé¢å®Œå…¨åŠ è½½');
            setTimeout(() => {
                document.getElementById('result').innerHTML = 
                    '<p class="ok">âœ“ é¡µé¢åŠ è½½å®Œæˆï¼ç‚¹å‡»"æµ‹è¯•æ•°æ®åŠ è½½"æŒ‰é’®æµ‹è¯•AJAXåŠŸèƒ½</p>';
            }, 100);
        });

        // é”™è¯¯æ•è·
        window.onerror = function(msg, url, line, col, error) {
            document.getElementById('result').innerHTML = `
                <p class="error">å…¨å±€é”™è¯¯:</p>
                <pre>æ¶ˆæ¯: ${msg}
æ–‡ä»¶: ${url}
è¡Œå·: ${line}:${col}
é”™è¯¯: ${error}</pre>
            `;
            return false;
        };
    </script>

    <div class="box">
        <h2>ğŸ“‹ è¯´æ˜</h2>
        <p>è¿™ä¸ªé¡µé¢ç”¨æœ€ç®€å•çš„æ–¹å¼æµ‹è¯•æ‰€æœ‰åŠŸèƒ½ï¼š</p>
        <ul>
            <li>å¦‚æœä½ çœ‹åˆ°<span class="ok">ç»¿è‰²æ–‡å­—</span>å’Œè¡¨æ ¼ï¼ŒHTML/CSSæ­£å¸¸</li>
            <li>å¦‚æœ"JavaScriptçŠ¶æ€"æ˜¾ç¤ºâœ“ï¼Œè¯´æ˜JSæ­£å¸¸</li>
            <li>ç‚¹å‡»"æµ‹è¯•æ•°æ®åŠ è½½"æŒ‰é’®ï¼Œæµ‹è¯•AJAXåŠŸèƒ½</li>
            <li>å¦‚æœéƒ½æ­£å¸¸ï¼Œé‚£ä¹ˆåŸå§‹çš„index.htmlä¹Ÿåº”è¯¥èƒ½å·¥ä½œ</li>
        </ul>
        <p><strong>å½“å‰æ—¶é—´ï¼š</strong> <span id="time"></span></p>
        <script>
            setInterval(() => {
                document.getElementById('time').textContent = new Date().toLocaleString('zh-CN');
            }, 1000);
        </script>
    </div>
</body>
</html>
